<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>openOven</title>

  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.css">
  <link rel="stylesheet" href="css/openOven.css">

</head>

<body>
  <nav class="navbar navbar-dark bg-dark sticky-top">
    <div class="container mx-1 pr-0">
        <a class=" navbar-brand d-inline pb-0 ">
          <img src="/misc_files/openOvenIcon.svg" alt="openOven Icon" class="  " id="oOIcon" height="50" width="150">
          <span>openOven</span>
        </a>
        <ul class="navbar-nav ml-auto flex-row-reverse pt-1">
          <li class="nav-item">
            <a class="nav-link d-inline-block " href="#" data-toggle="modal" data-target="#addRecipe">
              <span><i class="fa fa-plus fa-lg"></i></span>
            </a>
          </li>
<!-- ADD USER PAGE if logged in? OR ask for login? -->
          <li class="nav-item">
            <a class="nav-link d-inline-block pr-3" href="user.html">
              <span><i class="fa fa-user fa-lg"></i></span>
            </a>
          </li>
        </ul>
    </div>
  </nav>

<!-- NEW RECIPE MODAL. Need to add jS to make it create a new card -->
  <div class="modal fade" tabidex="-1" id="addRecipe" role="dialog" aria-labelledby="addANewRecipe" aria-hidden="true">
    <div class="modal-dialog " role="document">
      <div class="container-fluid">
        <div class="row">
          <div class="modal-content ">
            <div class="modal-header col ">
              <h5 class="modal-title" id="addANewRecipe">Add a New Recipe
              </h5>
              <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form action="post">
                <div class="form-group col">
                  <label for="recipeTitle" class="form-label">Recipe Title:</label>
                  <input type="text" id="recipeTitle" name="recipeTitle" class="form-control">
                </div>
                <div class="form-group col">
                  <label for="recipeImage" class="form-label">Add an Image:</label>
                  <input type="file" id="recipeTitle" name="recipeImage" class="form-control-file">
                </div>
                <div class="form-group">
                  <label for="recipeIngredients" class="form-label" >Ingredients:</label>
                  <textarea id="recipeIngredients" class="form-control " rows="5">
                  </textarea>
                </div>
                <div class="form-group">
                  <label for="recipeInstructions" class="form-label">Instructions:</label>
                  <textarea id="recipeInstructions" class="form-control" rows="5">
                  </textarea>
                </div>
              </form>
            </div>
            <div class="modal-footer col">
              <button class="btn btn-secondary" type="button" data-dismiss="modal">
                Close
              </button>
              <button class="btn btn-dark" id="submitRecipe" type="submit">
                Add a Recipe
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FIX X MARGIN -->
  <div class="col-12 col-md-6 col-lg-5  col-xl-4 m-0 px-0">
    <input type="text" class="form-control fa" placeholder="&#xf002; Search">
  </div>

  <div class="container">
    <div class="row order-md-2 col-12">
      <div class="card mx-auto mx-lg-3 my-3 pl-0 col-12 col-md-6 col-lg-4 flex-row ">
        <!--ADD RECIPE INFO popover? collapse? with 2 tabs?
        FIX CRAZY TEXT FORMATTING~~-->
        <div class="col-1 bg-secondary ml-0 cardInfoToggle">INFO
        </div>
        <div class="col-11 pl-0">
          <div class="mt-2  img-thumbnail">
            <div id="carouselMac" class="carousel cardCarousel slide" data-ride="carousel">
              <ol class="carousel-indicators">
                <li data-target="#carouselMac" data-slide-to="0" class="active"></li>
                <li data-target="#carouselMac" data-slide-to="1"></li>
                <li data-target="#carouselMac" data-slide-to="2"></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img class="d-block w-100" src="/img/macNCheese.jpeg" alt="First slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="/img/macNCheese2.jpeg" alt="Second slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="img/macNCheese3.jpeg" alt="Third slide">
                </div>
              </div>
            </div>
          </div>
          <div class="card-body">
            <h5 class="card-title">Macaroni & Cheese</h5>
            <p class="card-text">is melty, cheesy goodness...</p>
          </div>
        </div>
      </div>

      <div class="card mx-auto mx-lg-3 my-3 pl-0 col-12 col-md-6 col-lg-4 flex-row">
        <div class="col-1 bg-secondary ml-0 cardInfoToggle">INFO
        </div>
        <div class="col-11 pl-0">
          <div class="mt-2  img-thumbnail">
            <div id="carouselMine" class="carousel cardCarousel slide" >
              <ol class="carousel-indicators">
                <li data-target="#carouselMine" data-slide-to="0" class="active"></li>
                <li data-target="#carouselMine" data-slide-to="1"></li>
                <li data-target="#carouselMine" data-slide-to="2"></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img class="d-block w-100" src="/img/minestrone3.jpeg" alt="First slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="/img/minestrone.jpeg" alt="Second slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="img/minestrone2.jpeg" alt="Third slide">
                </div>
              </div>
            </div>
          </div>
          <div class="card-body">
            <h5 class="card-title">Minestrone Soup with Crispy Kale</h5>
            <p class="card-text">rustic style soup with healthy greens...</p>
          </div>
        </div>
      </div>

      <div class="card mx-auto mx-lg-3 my-3 pl-0 col-12 col-md-6 col-lg-4 flex-row">
        <div class="col-1 bg-secondary ml-0 cardInfoToggle">INFO
        </div>
        <div class="col-11 pl-0">
          <div class="mt-2  img-thumbnail">
            <div id="carouselBuddha" class="carousel cardCarousel slide"  >
              <ol class="carousel-indicators">
                <li data-target="#carouselBuddha" data-slide-to="0" class="active"></li>
                <li data-target="#carouselBuddha" data-slide-to="1"></li>
                <li data-target="#carouselBuddha" data-slide-to="2"></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img class="d-block w-100" src="/img/buddhaBowl1.jpeg" alt="First slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="/img/buddhaBowl2.jpeg" alt="Second slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="img/buddhaBowl3.jpeg" alt="Third slide">
                </div>
              </div>
            </div>
          </div>
          <div class="card-body">
            <h5 class="card-title">Buddha Bowls</h5>
            <p class="card-text">plant-based clean eating that satifies...</p>
          </div>
        </div>
      </div>
      
        <div class="col-12 bg-secondary mt-3 order-md-first">
          <h2 class="text-center mx-auto  pt-3"><strong>CONTEST: </strong>Hot Toddies</h2>

          <div class="carousel-container position-relative row">
            <div id="contestCarousel" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active" data-slide-number="0">
                  <img src="/img/hottoddy1.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="1">
                  <img src="/img/hottoddy2.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="2">
                  <img src="/img/hottoddy3.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="3">
                  <img src="/img/hottoddy4.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="4">
                  <img src="/img/hottoddy5.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="5">
                  <img src="/img/hottoddy6.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="6">
                  <img src="/img/hottoddy7.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="7">
                  <img src="/img/hottoddy8.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="8">
                  <img src="/img/hottoddy9.jpeg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-slide-number="9">
                  <img src="/img/hottoddy10.jpeg" class="d-block w-100" alt="...">
                </div>
              </div>
            </div>
          
            <!-- Carousel Navigation -->
            <div id="carousel-thumbs" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <div class="row mx-0">
                    <div id="carousel-seleector-0" class="thumb col-4 col-sm-2 px-1 py-2 selected" data-target="#contestCarousel"
                      data-slide-to="0">
                      <img src="/img/hottoddy1.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-1" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="1">
                      <img src="/img/hottoddy2.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-2" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="2">
                      <img src="/img/hottoddy3.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-3" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="3">
                      <img src="/img/hottoddy4.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-4" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="4">
                      <img src="/img/hottoddy5.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-5" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="5">
                      <img src="/img/hottoddy6.jpeg" class="img-fluid" alt="...">
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="row mx-0">
                    <div id="carousel-selector-6" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="6">
                      <img src="/img/hottoddy7.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-7" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="7">
                      <img src="/img/hottoddy8.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-8" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="8">
                      <img src="/img/hottoddy9.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div id="carousel-selector-9" class="thumb col-4 col-sm-2 px-1 py-2" data-target="#contestCarousel"
                      data-slide-to="9">
                      <img src="/img/hottoddy10.jpeg" class="img-fluid" alt="...">
                    </div>
                    <div class="col-2 px-1 py-2"></div>
                    <div class="col-2 px-1 py-2"></div>
                  </div>
                </div>
              </div>
              <a class="carousel-control-prev" href="#carousel-thumbs" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carousel-thumbs" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
          <!-- contest description content -->
          <div class="col col-xl-4 mx-xs-auto pl-md-0 mr-lg-auto">
            <p class="mx-auto text-light text-center mt-3">Join our monthly contest! Vote on which hot toddy recipe looks the most delicious!</p>
          </div>
        </div>
      
    </div>

        <!-- Contest section: add content/fix styling
                      should be hero on desktop? 
                      should have large revolving carousel on desktop?-->
    
  </div>

<!-- ADD PAGE FOOTER links? social? -->
  <footer>
    <div class="bg-dark">
      <h5 class="text-center p-3 mt-2 mb-0">Social</h5>
    </div>
  </footer>

  <script src="node_modules/jquery/dist/jquery.slim.min.js"></script>
  <script src="node_modules/popper.js/dist/umd/popper.min.js"></script>
  <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  
  <!-- Stops carousel from auto-scrolling -->
  <script>
    $('.cardCarousel').carousel({
      pause: true,
      interval: false
    });
  </script>

<script>
  $('#contestCarousel').carousel({
      interval: false
    });
    $('#carousel-thumbs').carousel({
      interval: false
    });

    // handles the carousel thumbnails
    // https://stackoverflow.com/questions/25752187/bootstrap-carousel-with-thumbnails-multiple-carousel
    $('[id^=carousel-selector-]').click(function () {
      var id_selector = $(this).attr('id');
      var id = parseInt(id_selector.substr(id_selector.lastIndexOf('-') + 1));
      $('#contestCarousel').carousel(id);
    });
    // Only display 3 items in nav on mobile.
    if ($(window).width() < 575) {
      $('#carousel-thumbs .row div:nth-child(4)').each(function () {
        var rowBoundary = $(this);
        $('<div class="row mx-0">').insertAfter(rowBoundary.parent()).append(rowBoundary.nextAll().addBack());
      });
      $('#carousel-thumbs .carousel-item .row:nth-child(even)').each(function () {
        var boundary = $(this);
        $('<div class="carousel-item">').insertAfter(boundary.parent()).append(boundary.nextAll().addBack());
      });
    }
    // Hide slide arrows if too few items.
    if ($('#carousel-thumbs .carousel-item').length < 2) {
      $('#carousel-thumbs [class^=carousel-control-]').remove();
      $('.machine-carousel-container #carousel-thumbs').css('padding', '0 5px');
    }
    // when the carousel slides, auto update
    $('#contestCarousel').on('slide.bs.carousel', function (e) {
      var id = parseInt($(e.relatedTarget).attr('data-slide-number'));
      $('[id^=carousel-selector-]').removeClass('selected');
      $('[id=carousel-selector-' + id + ']').addClass('selected');
    });
    // when user swipes, go next or previous
    $('#contestCarousel').swipe({
      fallbackToMouseEvents: true,
      swipeLeft: function (e) {
        $('#contestCarousel').carousel('next');
      },
      swipeRight: function (e) {
        $('#contestCarousel').carousel('prev');
      },
      allowPageScroll: 'vertical',
      preventDefaultEvents: false,
      threshold: 75
    });
    /*
    $(document).on('click', '[data-toggle="lightbox"]', function(event) {
      event.preventDefault();
      $(this).ekkoLightbox();
    });
    */

    $('#contestCarousel .carousel-item img').on('click', function (e) {
      var src = $(e.target).attr('data-remote');
      if (src) $(this).ekkoLightbox();
    });
</script>

</body>
</html>